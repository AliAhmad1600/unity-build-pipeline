name: Unity Build
 
on:
  workflow_dispatch: # manual trigger

jobs:
  build:
    runs-on: [self-hosted, Windows, X64] # ensures it runs on your self-hosted runner
    steps:
      # Step 1: Checkout public repo + private submodule with access token
      - name: Checkout public repo with private submodules
        uses: actions/checkout@v4
        with:
          submodules: true            # pulls private repo as submodule
          token: ${{ secrets.ACCESS_TOKEN }}  # authenticate private submodule

      # Step 2: Run your Unity build bat file
      - name: Run Unity Build
        run: |
          call C:\Users\Aaron\Desktop\Builds\TestBuildAndroid.bat